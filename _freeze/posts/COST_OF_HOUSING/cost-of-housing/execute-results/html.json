{
  "hash": "112482109e662c4721bc8142e32388fb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"how expensive is housing?\"\ndescription: \"cost of housing in the US over time\"\ncategories: [economics, housing]\nformat: html\ndate: last-modified\ndate-format: long\ncode-links:\n  - text: repository\n    icon: github\n    href: \"https://github.com/jon-kane/justan3ngin33r/tree/main/posts/COST_OF_HOUSING\"\n---\n\n\n\n::: {.callout-warning}\n## Work in Progress\nI am actively updating this post. Content may change frequently as I work my way through this article.\n:::\n\n# tl;dr\n\n**Things are bad, but not as bad as you might think.**\n\nNationally,\n\n- From January 1963 to January 2026, the price-to-income ratio of a home has **increased by 0.04 per year on average**. As of January 2026, the ratio stands at 4.52^[Meaning the typical house costs the typical household 4.52 $\\times$ their gross annual income], placing it in the **70th percentile of all observations** in this period.\n- From April 1971^[Freddie Mac began surveying lenders on mortgage rates in April 1971, making this the earliest date for which consistent, nationwide data is available.] to January 2026, the mortgage debt-to-income ratio has **decreased by -0.001 per year on average**. As of January 2026, the ratio stands at 0.27^[Meaning the *typical* household would spend 0.27 $\\times$ their monthly income on their mortgage. this calculation assumes only interest and principal.], placing it in the **47th percentile of all observations** in this period.\n\n# intro\n\nMuch has been written recently on housing affordability, with much of it being negative^[Here's a few: [CBS](https://www.cbsnews.com/news/affordable-housing-home-prices-bankrate/), [NBC](https://www.nbcnews.com/business/real-estate/exactly-unaffordable-todays-housing-market-s-getting-worse-rcna207007), and [FOX](https://www.foxbusiness.com/lifestyle/only-28-us-homes-now-affordable-typical-american-household-buying-power-drops)]. Aside from the [tendency of news organizations to produce negative content](https://hai.stanford.edu/news/the-data-behind-your-doom-scroll-how-negative-news-takes-over-your-feed), I think what is lost in these reports is historical context: where were we, and where are we now? Even when the historical context is present, metrics may be used that, if not interpreted carefully, can be misleading. \n\nFor instance, [longtermtrends.com](https://www.longtermtrends.com/home-price-median-annual-income-ratio/) gives a chart that shows the ratio of the [S&P/Case-Shiller Home Price Index](https://www.spglobal.com/spdji/en/indices/indicators/sp-cotality-case-shiller-us-national-home-price-nsa-index/#overview) to the median household income. The problem here is that the Case-Shiller index is a weighted average; the distribution of home values tend to be right skewed, so an average will be greater than the median (the *typical* house). This results in a price-to-income ratio that is a bit more pessimistic. The typical person is buying the typical house, not the average house.\n\nIn order to provide some clarity on the questions of housing affordability, I'm going to look at two metrics:\n\n1. The ratio of the typical cost of a house to the typical household income.\n2. The proportion of a person's monthly income that would be dedicated to their monthly mortgage.\n\nI'm *planning* to examine this at three different geographic scales:\n\n- National\n- State\n- County\n\n# analysis\n\n## national scale\n\nThe data we are using from the [FRED](https://fred.stlouisfed.org/):\n\n- *CPIAUCSL*: Consumer Price Index for All Urban Consumers: All Items in U.S. City Average\n- *MSPUS*: Median Sales Price of Houses Sold for the United States\n- *MORTGAGE30US*: 30-Year Fixed Rate Mortgage Average in the United States\n- *MEHOINUSA646N*: Median Household Income in the United States\n\n\n\nA first look at the data:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nWhat I need to do:\n\n- Put the data in the same time frequency (use time series models)\n  - CPIAUCSL: monthly\n  - MEHOINUSA646N: annual\n  - MORTGAGE30US: weekly\n  - MSPUS: quarterly\n- Forecast some series to match the most recent data point available. Account for uncertainty.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  symbol        min_date   max_date  \n  <chr>         <date>     <date>    \n1 CPIAUCSL      1947-01-01 2025-11-01\n2 MEHOINUSA646N 1947-01-01 2024-01-01\n3 MORTGAGE30US  1971-04-02 2026-01-08\n4 MSPUS         1963-01-01 2025-04-01\n```\n\n\n:::\n:::\n\n\nA look at the modeled data. Converted to a monthly frequency.^[Weekly frequency has been averaged. Annual and quarterly frequency linearly interpolated. No error estimates included in averaged/interpolated points.] Range examined from the max-min date (January, 1963) of the different series to the max date (January, 2026) of all the series.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  symbol        min_date   max_date  \n  <chr>         <date>     <date>    \n1 CPIAUCSL      1963-01-01 2026-01-01\n2 MEHOINUSA646N 1963-01-01 2026-01-01\n3 MORTGAGE30US  1971-04-01 2026-01-01\n4 MSPUS         1963-01-01 2026-01-01\n```\n\n\n:::\n:::\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\nNow, to build out the metrics:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nWhat is the linear trend in the inflation adjusted median sales price of a home? Let's exclude the forecast data:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = ia2025_price ~ date, data = tb_msia %>% filter(combined_sd == \n    0))\n\nResiduals:\n   Min     1Q Median     3Q    Max \n-51402 -19898   1452  16631  64136 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 2.104e+05  1.440e+03  146.13   <2e-16 ***\ndate        1.060e+01  1.310e-01   80.93   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 23550 on 746 degrees of freedom\nMultiple R-squared:  0.8977,\tAdjusted R-squared:  0.8976 \nF-statistic:  6549 on 1 and 746 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nFrom the above model, we find that real median sales price (2025 dollars) of a home has increased by $3,869.32 a year on average from January, 1963 to April, 2025.\n\nFor the monthly mortgage payment (30-year mortgage), we'll assume a 20% down payment so the mortgage will 80% of the home value:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\nNow, let's get the percentage of a person's gross income that would go to their mortgage:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-8-2.png){width=672}\n:::\n:::\n\n\n\n\nLastly, let's look at the total cost of a house divided by the annual income:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nLet's build a model of the price/income ratio:\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = price_income_ratio ~ date, data = tb_final %>% filter(combined_sd == \n    0))\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-0.64244 -0.19255 -0.01162  0.18200  0.58437 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) 3.016e+00  1.495e-02  201.72   <2e-16 ***\ndate        1.132e-04  1.360e-06   83.19   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.2445 on 746 degrees of freedom\nMultiple R-squared:  0.9027,\tAdjusted R-squared:  0.9026 \nF-statistic:  6921 on 1 and 746 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](cost-of-housing_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nFrom the above model, we find that the ratio of the typical cost of a house to the typical household income has increased by 0.04 a year on average from January, 1963 to April, 2025.\n\n",
    "supporting": [
      "cost-of-housing_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}